{"type":"page","pullRefresh":{"disabled":true},"regions":["body"],"error":{"code":0},"status":0,"id":"u:e339c263ac5e","body":[{"type":"form","id":"u:8f6dc62b29e2","title":"节点配置","body":[{"type":"input-text","id":"u:30db4470577d","label":"名称","name":"name"},{"type":"select","id":"u:47dddf5a2395","label":"类路径","name":"url","multiple":false,"searchable":true,"source":{"url":"/api/ide/asset/v1/java/classes","method":"get","requestAdaptor":"","adaptor":"return {\n    status: 0,\n    data: {\n        options: payload.data\n    }\n}","messages":{}},"labelField":"value","valueField":"value","onEvent":{"change":{"weight":0,"actions":[{"componentId":"u:c6c9ec0a41f6","ignoreError":false,"actionType":"setValue","args":{"value":"''"}}]}}},{"type":"select","id":"u:c6c9ec0a41f6","label":"方法","name":"method","multiple":false,"searchable":true,"source":{"url":"/api/ide/asset/v1/java/class/${url}/methods","method":"get","requestAdaptor":"","adaptor":"return {\n    status: 0,\n    data: {\n        options: payload.data\n    }\n}","messages":{},"silent":false,"sendOn":"url?.length>0"},"labelField":"name","valueField":"name","removable":false,"editable":false,"clearable":true,"onEvent":{"change":{"weight":0,"actions":[{"ignoreError":false,"actionType":"custom","script":"/* 自定义JS使用说明：\n  * 1.动作执行函数doAction，可以执行所有类型的动作\n  * 2.通过上下文对象context可以获取当前组件实例，例如context.props可以获取该组件相关属性\n  * 3.事件对象event，在doAction之后执行event.stopPropagation();可以阻止后续动作执行\n*/\nconsole.log(event.data)\nlet body = {};\nlet params =[]\nif (event.data.selectedItems && event.data.selectedItems.parameters) {\n  params = event.data.selectedItems.parameters;\n  event.data.selectedItems.parameters.forEach(p => {\n    body[p.name] = null\n    console.log(p.name)\n  })\n}\nconsole.log('body')\nconsole.log(body)\ndoAction({\n  actionType: 'setValue',\n  componentId: 'item_body',\n  args: {\n    value: `return ` + JSON.stringify(body)\n  }\n});\nconsole.log('setValue')\nconsole.log('params', params)\ndoAction({\n  actionType: 'setValue',\n  componentId: 'item_params',\n  args: {\n    value: params\n  }\n});\n\n"}]}}},{"type":"editor","label":"请求参数","name":"body","id":"item_body","language":"javascript","editorDidMount":"(editor,monaco)=>{monaco?.languages.typescript.javascriptDefaults.addExtraLib(\"let _lastRet={}\", 'lastRet.ts');}","value":"","description":"js代码块，return {}"},{"type":"static-json","label":"参数声明","id":"item_params","quickEdit":false,"popOver":false,"copyable":false,"name":"params"}],"mode":"horizontal","onEvent":{"submitSucc":{"actions":[{"actionType":"broadcast","args":{"eventName":"formSubmited"},"data":"${event.data}"}]}},"feat":"Insert","name":"form1","actions":[{"type":"submit","label":"提交","primary":true,"id":"u:d2d02ca51bfc"}]}],"asideResizor":false,"name":"page1"}