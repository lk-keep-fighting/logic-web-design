{"type":"page","title":"","id":"pageId","asideResizor":true,"pullRefresh":{"disabled":true},"initApi":{"url":"/api/ide/asset/v1/logic-item/readFromCode","method":"get","requestAdaptor":"","adaptor":"const groups = Object.keys(payload.data).map(v => {\n  return {\n    label: v,\n    value: v\n  }\n});\nreturn {\n  status: payload.code,\n  data: {\n    groups: groups,\n    groupMap:payload.data\n  }\n}","messages":{},"replaceData":false,"data":{"items":[]}},"body":[{"type":"cards","card":{"type":"container","body":[{"type":"collapse","collapsed":true,"header":{"type":"tpl","tpl":"${logicItem.method}-${name}","id":"u:087d37068352"},"body":[{"type":"tpl","tpl":"${logicItem.url}","id":"u:9c1b2ebe6602"},{"type":"tpl","tpl":"${logicItem.memo}","id":"u:babaca1d51fd","wrapperComponent":"p"},{"type":"divider","id":"u:f5a4a8b838f0","lineStyle":"solid","direction":"horizontal","rotate":0},{"type":"form","body":[{"type":"editor","name":"body","id":"u:269ff68d44fe","language":"json","label":"组件参数","value":"${parsJson}"},{"type":"editor","label":"返回值","name":"rep","id":"u:1c808cf8de65","language":"json"}],"id":"u:5730727447aa","actions":[{"type":"submit","label":"提交","primary":true,"id":"u:99a11a32367b","block":true,"size":"lg"},{"type":"button","label":"查看源码","primary":true,"block":true,"size":"lg","id":"u:63924b49ef30","level":"light","onEvent":{"click":{"weight":0,"actions":[{"ignoreError":false,"actionType":"dialog","dialog":{"type":"dialog","body":[{"type":"form","body":[{"type":"editor","id":"u:512ba23aa8cb","name":"sourceCode","language":"java","size":"xl"}],"id":"u:c6a8c032a14a","feat":"View","dsType":"api","actions":[{"type":"submit","label":"提交","primary":true,"id":"u:e060abc8b13a"}],"initApi":{"method":"post","url":"/api/ide/asset/v1/java/sourceCode","requestAdaptor":"","adaptor":"","messages":{},"dataType":"json","data":"${logicItem}","sendOn":""},"wrapWithPanel":false,"mode":"normal"}],"showCloseButton":true,"showErrorMsg":true,"showLoading":true,"className":"app-popover :AMISCSSWrapper","actions":[{"type":"button","actionType":"cancel","label":"取消","id":"u:eb1f10080114"},{"type":"button","actionType":"confirm","label":"确认","primary":true,"id":"u:5559bc4ba196"}],"id":"u:b8a3ed4e5d19","closeOnOutside":false,"closeOnEsc":false,"draggable":false,"title":"组件源码","size":"lg"}}]}}}],"feat":"Insert","dsType":"api","title":"调试组件","api":{"url":"/api/ide/logic-item/debug","method":"post","requestAdaptor":"","data":{"body":"${body}","config":"${logicItem}"},"adaptor":"return {\n  status: 0,\n  data: {\n    rep: payload.code == 0 ? payload.data : payload.msg\n  }\n}","messages":{},"dataType":"json"},"columnCount":2}],"id":"u:5718e8b1cebf","onEvent":{"expand":{"weight":0,"actions":[]}},"collapsable":true}],"wrapperBody":false,"style":{"width":"100%","position":"static","display":"block"},"themeCss":{"baseControlClassName":{"radius:default":{"top-left-border-radius":"6px","top-right-border-radius":"6px","bottom-left-border-radius":"6px","bottom-right-border-radius":"6px"},"boxShadow:default":" 0px 0px 10px 0px var(--colors-neutral-line-8)","border:default":{"top-border-width":"var(--borders-width-1)","left-border-width":"var(--borders-width-1)","right-border-width":"var(--borders-width-1)","bottom-border-width":"var(--borders-width-1)","top-border-style":"var(--borders-style-1)","left-border-style":"var(--borders-style-1)","right-border-style":"var(--borders-style-1)","bottom-border-style":"var(--borders-style-1)","top-border-color":"#3be157","left-border-color":"#3be157","right-border-color":"#3be157","bottom-border-color":"#3be157"},"padding-and-margin:default":{"paddingTop":"10px","paddingRight":"10px","paddingBottom":"10px","paddingLeft":"10px"}}},"id":"u:ef9d9b03afb9","isFixedHeight":false,"isFixedWidth":false},"placeholder":"","style":{"gutterY":10},"id":"u:be3acfbdf66d","source":"${groupItems}","columnsCount":1,"masonryLayout":true,"columnsSetting":"columnsCount"}],"aside":[{"type":"input-tree","label":"","name":"group","id":"u:e33b2c77e930","multiple":false,"enableNodePath":false,"hideRoot":true,"showIcon":true,"initiallyOpen":true,"source":"${groups}","onEvent":{"change":{"weight":0,"actions":[{"ignoreError":false,"actionType":"custom","script":"/* 自定义JS使用说明：\n  * 1.动作执行函数doAction，可以执行所有类型的动作\n  * 2.通过上下文对象context可以获取当前组件实例，例如context.props可以获取该组件相关属性\n  * 3.事件对象event，在doAction之后执行event.stopPropagation();可以阻止后续动作执行\n*/\nconst groupItems = event.data.groupMap[event.data.group];\ngroupItems.forEach(i => {\n  let body = {}\n  i.logicItem.params.forEach(p => {\n    let anno = p.typeAnnotation;\n    let parValue = null;\n    if (anno.typeKind == 'reference' && anno.properties && anno.properties.length > 0) {\n      parValue = {};\n      anno.properties.forEach(prop => {\n        parValue[prop.name] = JSON.parse(prop.defaultValue);\n      })\n    }\n    body[p.name] = parValue;\n  })\n  i.parsJson = body;\n  console.log('i')\n  console.log(i)\n})\ndoAction({\n  actionType: \"setValue\",\n  componentId: \"pageId\",\n  args: {\n    value: {\n      groupItems\n    }\n  }\n});\n"}]}},"showOutline":false,"showRadio":true,"heightAuto":true,"treeContainerClassName":"no-border","rootLabel":"组件分组"}],"data":{"groupItems":"[]"},"asideMinWidth":300,"asideMaxWidth":500,"asideClassName":"w-56"}