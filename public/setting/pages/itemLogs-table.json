{"id":"u:c0bad52a83ec","asideResizor":false,"editorState":"default","pullRefresh":{"disabled":true},"type":"page","body":[{"type":"collapse-group","id":"u:ec987e1d4f40","body":[{"type":"table","columns":[{"label":"名称","name":"name","type":"text","id":"u:5801469005ab","placeholder":"-","width":180},{"type":"status","label":"状态","name":"success","id":"u:6b5c215595c5","width":50},{"type":"tpl","label":"节点耗时(毫秒)","name":"duration","id":"u:dcd8b5d12399","placeholder":"-","tpl":"${DATE(endTime)-DATE(beginTime)}","width":100},{"type":"datetime","label":"开始时间","name":"beginTime","id":"u:517c580a50ff","placeholder":"-","format":"YY-MM-DD HH:mm:ss.SSS","width":200},{"type":"datetime","label":"结束时间","name":"endTime","id":"u:3e275d5305c1","placeholder":"-","format":"YY-MM-DD HH:mm:ss.SSS","width":200},{"type":"map","label":"类型","name":"config.type","id":"u:5230c294c039","map":{"*":"${config.type}","wait-for-continue":"交互点","assign-local":"局部变量赋值","wait":"等待","start":"开始","sub-logic":"复用逻辑","assign-global":"全局变量赋值"},"width":100,"placeholder":"-"},{"label":"备注","name":"config.memo","type":"text","placeholder":"-","id":"u:09332f8a2c14"}],"id":"u:5112c9ce8df1","onEvent":{"rowClick":{"weight":0,"actions":[{"ignoreError":false,"actionType":"custom","script":"/* 自定义JS使用说明：\n  * 1.动作执行函数doAction，可以执行所有类型的动作\n  * 2.通过上下文对象context可以获取当前组件实例，例如context.props可以获取该组件相关属性\n  * 3.事件对象event，在doAction之后执行event.stopPropagation();可以阻止后续动作执行\n*/\ndoAction({\n  actionType: 'broadcast',\n  args: {\n    eventName: 'row-click'\n  },\n  data: event.data\n});\n"}]}},"affixRow":[{"type":"text","text":"本次执行耗时（末节点结束时间-首节点开始时间）","colSpan":4,"id":"u:dc4e2949a3aa","inline":true},{"type":"tpl","tpl":"${DATE(items[items.length-1]['endTime'])-DATE(items[0]['beginTime'])}","id":"u:fc565b2e9ce8"}],"source":"$items","showFooter":false,"columnsTogglable":false,"name":"nodes"}]},{"type":"divider","id":"u:54bba5af67b1"},{"type":"tpl","tpl":"耗时分析：","inline":true,"wrapperComponent":"","id":"u:7572b45fad1e","editorState":"default"},{"type":"chart","config":{"series":[{"type":"treemap","data":[{"name":"nodeA","value":10,"children":[{"name":"nodeAa","value":4},{"name":"nodeAb","value":6}]},{"name":"nodeB","value":20,"children":[{"name":"nodeBa","value":20,"children":[{"name":"nodeBa1","value":20}]}]}]}]},"replaceChartOption":true,"id":"u:aa5e5acba932","dataFilter":"config.series[0].data = []\nconfig.label = {\n  // 在文本中，可以对部分文本采用 rich 中定义样式。\n  // 这里需要在文本中使用标记符号：\n  // `{styleName|text content text content}` 标记样式名。\n  // 注意，换行仍是使用 '\\n'。\n  formatter: (v) => [\n    '{name|' + v.name + '}',\n    '{value|' + v.value + '}'\n  ].join('\\n'),\n  align: 'center',\n  verticalAlign: 'middle',\n  rich: {\n    name: {\n      fontWeight: 500\n    },\n    value: {\n      color: 'yellow',\n      fontWeight: 500\n    }\n  }\n};\ndata.items.forEach(v => {\n  var duration = new Date(v.endTime) - new Date(v.beginTime);\n  config.series[0].data.push({\n    name: (v.name ?? ''),\n    value: duration,\n    item: v\n  })\n})\nreturn config;","editorState":"default","name":"chart","trackExpression":"${items}","onEvent":{"click":{"weight":0,"actions":[{"ignoreError":false,"actionType":"custom","script":"/* 自定义JS使用说明：\n  * 1.动作执行函数doAction，可以执行所有类型的动作\n  * 2.通过上下文对象context可以获取当前组件实例，例如context.props可以获取该组件相关属性\n  * 3.事件对象event，在doAction之后执行event.stopPropagation();可以阻止后续动作执行\n*/\nconsole.log('chart data', event.data)\ndoAction({\n  actionType: 'broadcast',\n  args: {\n    eventName: 'row-click'\n  },\n  data: event.data.data\n});\n\n"}]}}}],"error":{"code":0}}