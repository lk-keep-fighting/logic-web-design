{"type":"page","body":[{"type":"crud","syncLocation":false,"api":{"method":"post","url":"/api/ide/logics","requestAdaptor":"const filters = []\nif (context.name) {\n  filters.push(\n    { dataIndex: 'name', values: [context.name ?? ''], type: 'and' },\n  )\n}\nif (context.module) {\n  filters.push(\n    { dataIndex: 'module', values: [context.module ?? ''], type: 'and' }\n  )\n}\nif (context.id) {\n  filters.push(\n    { dataIndex: 'id', values: [context.id ?? ''], type: 'and' }\n  )\n}\nconst param = {\n  ...context,\n  orderBy: [{ dataIndex: \"updateTime\", desc: true }],\n  filters\n};\napi.data = param;\nreturn api;\n","adaptor":"","messages":{},"dataType":"json"},"bulkActions":[{"type":"button","level":"danger","label":"删除","actionType":"ajax","confirmText":"确定要删除？","api":{"url":"/api/ide/logic/delete/${id}","method":"delete"},"id":"u:4968f35d31b3"}],"itemActions":[],"perPageAvailable":[10],"messages":{},"features":["create","update","view","bulkDelete"],"filter":{"title":"查询条件","body":[{"type":"input-text","name":"id","label":"ID","id":"u:1cd9f70c7b4d"},{"type":"input-text","name":"name","label":"名称","id":"u:1cd9f70c7b4d"},{"type":"input-text","name":"module","label":"模块","id":"u:1cd9f70c7b4d"},{"type":"button","label":"查询","level":"primary","id":"u:29d0b6fc12b5","tpl":"内容","wrapperComponent":"","onEvent":{"click":{"weight":0,"actions":[{"componentId":"u:ebf9ff9beaa6","ignoreError":false,"actionType":"submit","outputVar":"submitResult"}]}},"style":{"width":100}}],"id":"u:ebf9ff9beaa6","actions":[{"type":"submit","label":"搜索","primary":true,"id":"u:5883d4d972df"}],"feat":"Insert","wrapWithPanel":false,"affixFooter":false,"mode":"inline"},"perPageField":"pageSize","id":"u:167d8929c88e","columns":[{"name":"id","label":"ID","type":"link","id":"u:745f3845e8a5","copyable":true,"href":"#/assets/logic/i/${id}/edit","body":"${id}","blank":true},{"name":"name","label":"名称","type":"text","id":"u:a33fad4d3077","copyable":true},{"type":"text","label":"版本号","name":"version","id":"u:1442a879f753","width":150,"copyable":true},{"type":"datetime","label":"更新时间","name":"updateTime","id":"u:d0b8d71d4613","width":150},{"type":"text","label":"模块","name":"module","id":"u:27d768a7db43","copyable":true},{"type":"json","label":"配置项","name":"configJson","id":"u:a95819297331","levelExpand":0,"copyable":true},{"type":"operation","label":"操作","id":"u:4a2e0e92c3ea","buttons":[{"label":"编辑","type":"button","actionType":"dialog","level":"link","dialog":{"title":"编辑","body":{"type":"form","api":{"url":"/api/ide/logic/edit/${id}","method":"put"},"body":[{"name":"id","label":"ID","id":"u:745f3845e8a5","type":"input-text"},{"name":"name","label":"名称","id":"u:a33fad4d3077","type":"input-text"},{"type":"input-text","name":"module","label":"模块","id":"u:a33fad4d3077"}],"method":"put"}},"id":"u:61eca9f68469","editorState":"default"},{"type":"button","level":"light","label":"设计","id":"u:4aeb67702de9","actionType":"url","url":"/assets/logic/i/${id}/edit","blank":true,"editorState":"default"},{"id":"u:748eb34db7df","type":"button","label":"发布","actionType":"dialog","dialog":{"type":"dialog","title":"发布配置文件到指定环境","body":[{"id":"u:0971fd51b51e","type":"form","title":"表单","mode":"horizontal","dsType":"api","body":[{"name":"id","label":"逻辑编号","type":"input-text","id":"u:72fc9ce932c2","static":true},{"name":"pub_to_host","label":"发布环境","type":"radios","id":"u:d645241b993d","source":"${PUBLISHED_IDE_HOSTS}","labelField":"name","valueField":"name","selectFirst":true}],"actions":[{"type":"button","label":"提交","onEvent":{"click":{"actions":[{"actionType":"submit","componentId":"u:0971fd51b51e"}]}},"level":"primary"}],"initApi":"/api/runtime/env","feat":"View","submitText":"确认发布？","api":{"method":"post","url":"/api/ide/publish/logic/to-ide/${id}/${pub_to_host}"}}],"id":"u:99740f2cd62e","actions":[{"type":"button","actionType":"cancel","label":"取消","id":"u:e2c2b9ca579e"},{"type":"button","actionType":"submit","label":"确定","primary":true,"id":"u:01835a382621","confirmText":"点击确定将覆盖指定环境的配置，是否确认覆盖？"}],"showCloseButton":true,"closeOnOutside":false,"closeOnEsc":false,"showErrorMsg":true,"showLoading":true,"draggable":false},"level":"warning","editorState":"default"}],"placeholder":"-"}],"headerToolbar":[{"type":"button","id":"u:a4fcb24fbe43","label":"新增","actionType":"dialog","level":"primary","dialog":{"title":"新增","body":[{"type":"form","api":{"method":"post","url":"/api/ide/logic/add","dataType":"json"},"body":[{"type":"input-text","name":"id","label":"ID","id":"u:175c65f88f81","placeholder":"产品.模块.功能.项目.版本"},{"type":"input-text","name":"name","label":"名称","id":"u:c7810b58928f"},{"type":"input-text","name":"module","label":"模块","id":"u:042b8d2eed1a"},{"type":"textarea","name":"configJson","label":"JSON配置","placeholder":"可通过复制其他逻辑的配置复用逻辑"}],"id":"u:6ed9fa4bbf13"}],"type":"dialog","id":"u:e87d7d2f696b"},"icon":""},{"type":"bulk-actions"},{"type":"button","id":"u:f2d2df578618","label":"配置同步","editorState":"default","actionType":"link","link":"/app/xuanwu-factory/logic-bulk-publish","wrapperComponent":"","level":"warning","blank":true,"block":false}],"name":"crud"}],"asideResizor":true,"pullRefresh":{"disabled":true},"regions":["body","aside"],"error":{"code":0},"status":0,"id":"u:a406dbc1156c","editorState":"default","aside":[{"id":"u:b28e96de9c9a","type":"form","title":"表单","mode":"normal","dsType":"api","feat":"Insert","body":[{"type":"input-tree","id":"u:6b09f8031930","label":"","name":"module","multiple":false,"enableNodePath":false,"hideRoot":false,"showIcon":false,"source":{"method":"get","url":"/api/ide/modules","requestAdaptor":"","adaptor":"","messages":{},"dataType":"json"},"labelField":"id","valueField":"id","onEvent":{},"initiallyOpen":true,"treeContainerClassName":"no-border","rootLabel":"所有模块","showOutline":false,"showRadio":true,"heightAuto":true}],"actions":[{"type":"button","label":"提交","onEvent":{"click":{"actions":[{"actionType":"submit","componentId":"u:b28e96de9c9a"}]}},"level":"primary","id":"u:b0d6eae640be"}],"resetAfterSubmit":false,"wrapWithPanel":false,"target":"crud","submitOnChange":true,"debug":false}],"asideMinWidth":160,"asideMaxWidth":450,"asideClassName":"w-56"}