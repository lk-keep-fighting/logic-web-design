{"id":"u:a406dbc1156c","body":[{"type":"crud","syncLocation":false,"api":{"method":"post","url":"/api/form/logic/query","requestAdaptor":"const param = {\n  pageNumber: context.page,\n  orderBy: [{ dataIndex: \"name\" }]\n};\napi.data = param;\nreturn api;\n","adaptor":"return {\n  status: 0,\n  data: {\n    items: payload.result.items,\n    total: payload.result.totalCount\n  }\n}","messages":{},"dataType":"json"},"columns":[{"name":"name","label":"名称","type":"text","id":"u:a33fad4d3077"},{"name":"path","label":"API","copyable":{"content":"/api/runtime/logic/v1/run-api/${id}"},"value":"/api/runtime/logic/v1/run-api/${id}","id":"u:8543ae3b54f0"},{"type":"json","levelExpand":0,"name":"configJson","label":"配置项","id":"u:a95819297331","copyable":true},{"name":"id","label":"ID","type":"text","id":"u:745f3845e8a5"},{"type":"operation","label":"操作","buttons":[{"label":"编辑","type":"button","actionType":"dialog","level":"link","dialog":{"title":"编辑","body":{"type":"form","api":{"url":"/api/form/logic/edit/${id}","method":"put"},"body":[{"name":"id","label":"ID","id":"u:745f3845e8a5","type":"input-text"},{"name":"name","label":"名称","id":"u:a33fad4d3077","type":"input-text"},{"type":"textarea","name":"configJson","label":"配置项"}],"method":"put"}},"id":"u:61eca9f68469"},{"label":"查看","type":"button","actionType":"dialog","level":"link","dialog":{"title":"查看详情","body":{"type":"form","body":[{"name":"id","label":"ID","id":"u:745f3845e8a5","type":"static"},{"name":"name","label":"名称","id":"u:a33fad4d3077","type":"static"},{"type":"control","name":"configJson","label":"配置项","body":{"type":"json"}}]}},"id":"u:1049f79fc81e"},{"type":"button","level":"link","label":"设计","actionType":"url","url":"http://localhost:4051/assets/logic/i/${id}/edit","id":"u:4aeb67702de9","blank":true},{"label":"运行","type":"button","actionType":"dialog","level":"link","dialog":{"id":"run-input","title":"运行","body":{"type":"form","api":{"url":"/api/runtime/logic/v1/run-api/${id}","method":"put"},"body":[{"name":"id","label":"ID","id":"u:745f3845e8a5","type":"input-text"},{"name":"name","label":"名称","id":"u:a33fad4d3077","type":"input-text"},{"type":"textarea","name":"param","label":"参数"}]}},"id":"u:61eca9f68469","onEvent":{"click":{"weight":0,"actions":[{"actionType":"custom","script":"/* 自定义JS使用说明：\n  * 1.动作执行函数doAction，可以执行所有类型的动作\n  * 2.通过上下文对象context可以获取当前组件实例，例如context.props可以获取该组件相关属性\n  * 3.事件对象event，在doAction之后执行event.stopPropagation();可以阻止后续动作执行\n*/\n// const myMsg = JSON.parse(context.props.data.configJson);\nevent.setData({ param: { d: 'myMsg.params' } })\n// console.log(myMsg.params)\ndoAction({\n  actionType: 'setValue',\n  componentId: 'run-input',\n  args: {\n      param: { d: ' setValue' }\n  }\n});\n"}]}},"editorState":"default","hidden":true}],"id":"u:4a2e0e92c3ea"}],"bulkActions":[{"type":"button","level":"danger","label":"删除","actionType":"ajax","confirmText":"确定要删除？","api":{"url":"/api/form/logic/delete/${id}","method":"delete"},"id":"u:ff9128542863"}],"itemActions":[],"id":"u:167d8929c88e","features":["create","update","view","bulkDelete"],"headerToolbar":[{"label":"新增","type":"button","actionType":"dialog","level":"primary","dialog":{"title":"新增","body":{"type":"form","api":{"method":"post","url":"/api/form/logic/add","messages":{},"dataType":"json"},"body":[{"type":"input-text","name":"id","label":"ID"},{"type":"input-text","name":"name","label":"名称"},{"type":"textarea","name":"configJson","label":"配置项"}]}},"id":"u:fe9ec4e1a390"},"bulkActions"],"perPageAvailable":[10],"messages":{},"autoFillHeight":true}],"type":"page"}